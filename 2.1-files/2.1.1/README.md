# Задача 1. Конвертация CSV данных в JSON формат

Вы работаете над веб-сервисом для менеджеров, работающих со товарами на складах. Менеджеры хранят все товарные остатки в Excel.
Поступила задача: вывести данные на сайте в виде таблицы с возможностью сортировки по полям.

Было решено сделать это на JavaScript. Фронтенд-разработчик реализовал данную задачу, но для отображения ему требуется JSON файл.

В Excel можно легко сохранить данные в CSV, но не в JSON.
Ваша задача как Бэкенд-разработчика - сконвертировать CSV файла в JSON файл.

Подробно про CSV формат: https://ru.wikipedia.org/wiki/CSV
Подробно про JSON формат: https://ru.wikipedia.org/wiki/JSON

## Описание
Реализовать конвертирование CSV данных в JSON формат.
На входе вам поступает файл data.csv, на выходе вы должны создать новый файл data.json в формате JSON
> В csv файле разделителем значений колонок является символ точка запятой (;)

Примечание: 

* php скрипт должен выполняться в консоле. 

* Файл data.csv должен лежать рядом со скриптом. 

```
> php ./csvtojson.php
```

## Подсказки
1. Считывание csv: http://php.net/manual/ru/function.fgetcsv.php или http://php.net/manual/ru/function.str-getcsv.php
2. Преобразование массива в JSON: http://php.net/manual/ru/function.json-encode.php
3. Сохранение текста в файл: http://php.net/manual/ru/function.file-put-contents.php

## Задача 1.*

Необязательно для получения зачета.

 1. php скрипт должен принимать на входе любой csv файл. 

> Воспользутесь $argv массивом (это массив переданных скрипту аргументов в консоле):
> http://php.net/manual/ru/reserved.variables.argv.php

```
> php ./csvtojson.php random_filename.json
```

2. JSON должен получаться в кодировке UTF-8 в независимости от кодировки CSV.
> СSV файлы могут генерироваться как через Microsoft Excel, так и через OpenOffice (LibreOffice). Поэтому CSV файлы бывают в кодировке Windows-1251 и UTF-8.
Воспользуйтесь функциями:
**mb_detect_encoding**: http://php.net/manual/ru/function.mb-detect-encoding.php
**iconv**: http://php.net/manual/ru/function.iconv.php


## Пример
Файл: data.csv

```
Name;Art;Price
Товар 1;1001;10639
Товар 2;1002;23387
Товар 3;1003;20129
Товар 4;1004;14005
Товар 5;1005;49594
Товар 6;1006;20181
Товар 7;1007;37999
Товар 8;1008;29357
Товар 9;1009;49505
Товар 10;1011;11047
Товар 11;1012;18564
```

Должен получиться файл data.json

```
[
  {
    "Name": "Товар 1",
    "Art": 1001,
    "Price": 10639
  },
  {
    "Name": "Товар 2",
    "Art": 1002,
    "Price": 23387
  },
  {
    "Name": "Товар 3",
    "Art": 1003,
    "Price": 20129
  },
  {
    "Name": "Товар 4",
    "Art": 1004,
    "Price": 14005
  },
  {
    "Name": "Товар 5",
    "Art": 1005,
    "Price": 49594
  },
  {
    "Name": "Товар 6",
    "Art": 1006,
    "Price": 20181
  },
  {
    "Name": "Товар 7",
    "Art": 1007,
    "Price": 37999
  },
  {
    "Name": "Товар 8",
    "Art": 1008,
    "Price": 29357
  },
  {
    "Name": "Товар 9",
    "Art": 1009,
    "Price": 49505
  },
  {
    "Name": "Товар 10",
    "Art": 1011,
    "Price": 11047
  },
  {
    "Name": "Товар 11",
    "Art": 1012,
    "Price": 18564
  }
]
```

## Алгоритм решения
1. Выполнить разбор CSV-файла в массив. 
2. Преобразовать массив в ассоциативный массив с ключами (ключи брать из первой строки в CSV-файле)
3. Конвертировать массив в JSON
4. Сохранить JSON в файл




**Обратите внимание на** [**рекомендации по сдаче домашнего задания**](https://github.com/netology-code/bphp-homeworks/blob/master/0-sharing/homework/README.md).
